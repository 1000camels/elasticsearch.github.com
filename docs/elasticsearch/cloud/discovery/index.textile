---
layout: doc_es
title: ElasticSearch Docs | Cloud | Discovery
---

<script type="text/javascript">
docBreadcrumb = [
    ["elasticsearch", "ElasticSearch"], 
    ["cloud", "Cloud"], 
    ["discovery", "Discovery"], 
];
</script>

h1. Cloud Discovery

p. One of the main problems with running distributed systems on the cloud is discovery. Products that can do "zero conf" discovery use multicast for it (elasticsearch among them), and in most cloud providers (Amazon AWS or Rackspace) multicast is disabled. The typical way to work around it is to use unicast discovery, which requires setting up a specific list of IPs/Hosts (routers or gossip servers).

p. Unicast discovery is problematic when used on the cloud. Machines can come and go, and their IP is not static. Cloud providers work around that by providing the ability to have a set of "elastic IPs". But, at the end, the management of the cloud installation becomes a pain. At least two servers must be associated with an elastic IP and become a special exception case which needs to be managed. This goes completely against "zero conf" discovery and heavily complicates the cloud installation.

p. ElasticSearch has a new discovery module called "Zen":../../modules/discovery/zen which was built from the ground up to work well in cloud environments (and integrate well with other elasticsearch modules). The cloud extension to it provides "zero conf" discovery in cloud environments.

p. In a nutshell, when running on the cloud, the list of machines that are already running on the cloud is available through cloud APIs. This information can be used to perform "zero conf" discovery. This follows the motto that the should be embraced by any system running on the cloud: _All Machines are Created Equal_.

p. Enabling cloud discovery is done using:

<pre class="prettyprint lang-js">
cloud:
    account: <Your Amazon AWS Account Here>
    key: <Your Amazon AWS Secret Key Here>
    compute:
        type: amazon
discovery:
    type: cloud
</pre>

p. The above configuration enables auto discovery in Amazon AWS. Simply replace @amazon@ with @rackspace@ to work on the Rackspace cloud. There is a long list of compute cloud providers supported, including GoGrid, and Terremark.
